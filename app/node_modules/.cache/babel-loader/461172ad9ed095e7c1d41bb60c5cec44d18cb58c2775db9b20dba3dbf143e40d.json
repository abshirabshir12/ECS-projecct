{"ast":null,"code":"import{memo}from'react';import{getBezierPath,BaseEdge,useStore,EdgeLabelRenderer}from'reactflow';import{jsx as _jsx,Fragment as _Fragment,jsxs as _jsxs}from\"react/jsx-runtime\";export const getSpecialPath=(_ref,offset)=>{let{sourceX,sourceY,targetX,targetY}=_ref;const centerX=(sourceX+targetX)/2;const centerY=(sourceY+targetY)/2;return[`M ${sourceX} ${sourceY} Q ${centerX} ${centerY+offset} ${targetX} ${targetY}`,centerX,centerY+offset];};export default/*#__PURE__*/memo(_ref2=>{let{id,source,target,sourceX,sourceY,targetX,targetY,sourcePosition,targetPosition,selected,data,markerEnd}=_ref2;const isBiDirectionEdge=useStore(s=>{const edgeExists=s.edges.some(e=>e.source===target&&e.target===source||e.target===source&&e.source===target);return edgeExists;});const edgePathParams={sourceX,sourceY,sourcePosition,targetX,targetY,targetPosition};let path='';let labelX=0;let labelY=0;if(isBiDirectionEdge){[path,labelX,labelY]=getSpecialPath(edgePathParams,sourceX<targetX?25:-25);}else{[path,labelX,labelY]=getBezierPath(edgePathParams);}return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(BaseEdge,{id:id,path:path,markerEnd:markerEnd,style:{strokeWidth:2,zIndex:1,stroke:selected?'#FF0072':'#000'}}),/*#__PURE__*/_jsx(EdgeLabelRenderer,{children:/*#__PURE__*/_jsx(\"div\",{style:{position:'absolute',transform:`translate(-50%, -50%) translate(${labelX}px,${labelY}px)`,background:'#ffcc00',padding:10,borderRadius:5,fontSize:12,fontWeight:700,zIndex:2},className:\"nodrag nopan\",children:data.name})})]});});","map":{"version":3,"names":["memo","getBezierPath","BaseEdge","useStore","EdgeLabelRenderer","jsx","_jsx","Fragment","_Fragment","jsxs","_jsxs","getSpecialPath","_ref","offset","sourceX","sourceY","targetX","targetY","centerX","centerY","_ref2","id","source","target","sourcePosition","targetPosition","selected","data","markerEnd","isBiDirectionEdge","s","edgeExists","edges","some","e","edgePathParams","path","labelX","labelY","children","style","strokeWidth","zIndex","stroke","position","transform","background","padding","borderRadius","fontSize","fontWeight","className","name"],"sources":["C:/Users/abshi/OneDrive/Documents/yyyy/ECS-projecct/app/src/components/generic/Flow/Edges/BiDirectionalEdge.tsx"],"sourcesContent":["import { memo } from 'react';\r\nimport { getBezierPath, BaseEdge, useStore, EdgeProps, ReactFlowState, EdgeLabelRenderer } from 'reactflow';\r\n\r\nexport type GetSpecialPathParams = {\r\n  sourceX: number;\r\n  sourceY: number;\r\n  targetX: number;\r\n  targetY: number;\r\n};\r\n\r\nexport const getSpecialPath = (\r\n  { sourceX, sourceY, targetX, targetY }: GetSpecialPathParams,\r\n  offset: number,\r\n): [path: string, labelX: number, labelY: number] => {\r\n  const centerX = (sourceX + targetX) / 2;\r\n  const centerY = (sourceY + targetY) / 2;\r\n\r\n  return [`M ${sourceX} ${sourceY} Q ${centerX} ${centerY + offset} ${targetX} ${targetY}`, centerX, centerY + offset];\r\n};\r\n\r\nexport default memo(({\r\n  id,\r\n  source,\r\n  target,\r\n  sourceX,\r\n  sourceY,\r\n  targetX,\r\n  targetY,\r\n  sourcePosition,\r\n  targetPosition,\r\n  selected,\r\n  data,\r\n  markerEnd,\r\n}: EdgeProps) => {\r\n  const isBiDirectionEdge = useStore((s: ReactFlowState) => {\r\n    const edgeExists = s.edges.some(\r\n      (e) =>\r\n        (e.source === target && e.target === source) || (e.target === source && e.source === target),\r\n    );\r\n\r\n    return edgeExists;\r\n  });\r\n\r\n  const edgePathParams = {\r\n    sourceX,\r\n    sourceY,\r\n    sourcePosition,\r\n    targetX,\r\n    targetY,\r\n    targetPosition,\r\n  };\r\n\r\n  let path = '';\r\n  let labelX: number = 0;\r\n  let labelY: number = 0;\r\n\r\n  if (isBiDirectionEdge) {\r\n    [path, labelX, labelY] = getSpecialPath(edgePathParams, sourceX < targetX ? 25 : -25);\r\n  } else {\r\n    [path, labelX, labelY] = getBezierPath(edgePathParams);\r\n  }\r\n\r\n  return (\r\n    <>\r\n      <BaseEdge id={id} path={path} markerEnd={markerEnd} style={{\r\n        strokeWidth: 2,\r\n        zIndex: 1,\r\n        stroke: selected ? '#FF0072' : '#000',\r\n      }} />\r\n      <EdgeLabelRenderer>\r\n        <div\r\n          style={{\r\n            position: 'absolute',\r\n            transform: `translate(-50%, -50%) translate(${labelX}px,${labelY}px)`,\r\n            background: '#ffcc00',\r\n            padding: 10,\r\n            borderRadius: 5,\r\n            fontSize: 12,\r\n            fontWeight: 700,\r\n            zIndex: 2,\r\n          }}\r\n          className=\"nodrag nopan\"\r\n        >\r\n          {data.name}\r\n        </div>\r\n      </EdgeLabelRenderer>\r\n    </>);\r\n});\r\n"],"mappings":"AAAA,OAASA,IAAI,KAAQ,OAAO,CAC5B,OAASC,aAAa,CAAEC,QAAQ,CAAEC,QAAQ,CAA6BC,iBAAiB,KAAQ,WAAW,CAAC,OAAAC,GAAA,IAAAC,IAAA,CAAAC,QAAA,IAAAC,SAAA,CAAAC,IAAA,IAAAC,KAAA,yBAS5G,MAAO,MAAM,CAAAC,cAAc,CAAGA,CAAAC,IAAA,CAE5BC,MAAc,GACqC,IAFnD,CAAEC,OAAO,CAAEC,OAAO,CAAEC,OAAO,CAAEC,OAA8B,CAAC,CAAAL,IAAA,CAG5D,KAAM,CAAAM,OAAO,CAAG,CAACJ,OAAO,CAAGE,OAAO,EAAI,CAAC,CACvC,KAAM,CAAAG,OAAO,CAAG,CAACJ,OAAO,CAAGE,OAAO,EAAI,CAAC,CAEvC,MAAO,CAAC,KAAKH,OAAO,IAAIC,OAAO,MAAMG,OAAO,IAAIC,OAAO,CAAGN,MAAM,IAAIG,OAAO,IAAIC,OAAO,EAAE,CAAEC,OAAO,CAAEC,OAAO,CAAGN,MAAM,CAAC,CACtH,CAAC,CAED,2BAAeb,IAAI,CAACoB,KAAA,EAaH,IAbI,CACnBC,EAAE,CACFC,MAAM,CACNC,MAAM,CACNT,OAAO,CACPC,OAAO,CACPC,OAAO,CACPC,OAAO,CACPO,cAAc,CACdC,cAAc,CACdC,QAAQ,CACRC,IAAI,CACJC,SACS,CAAC,CAAAR,KAAA,CACV,KAAM,CAAAS,iBAAiB,CAAG1B,QAAQ,CAAE2B,CAAiB,EAAK,CACxD,KAAM,CAAAC,UAAU,CAAGD,CAAC,CAACE,KAAK,CAACC,IAAI,CAC5BC,CAAC,EACCA,CAAC,CAACZ,MAAM,GAAKC,MAAM,EAAIW,CAAC,CAACX,MAAM,GAAKD,MAAM,EAAMY,CAAC,CAACX,MAAM,GAAKD,MAAM,EAAIY,CAAC,CAACZ,MAAM,GAAKC,MACzF,CAAC,CAED,MAAO,CAAAQ,UAAU,CACnB,CAAC,CAAC,CAEF,KAAM,CAAAI,cAAc,CAAG,CACrBrB,OAAO,CACPC,OAAO,CACPS,cAAc,CACdR,OAAO,CACPC,OAAO,CACPQ,cACF,CAAC,CAED,GAAI,CAAAW,IAAI,CAAG,EAAE,CACb,GAAI,CAAAC,MAAc,CAAG,CAAC,CACtB,GAAI,CAAAC,MAAc,CAAG,CAAC,CAEtB,GAAIT,iBAAiB,CAAE,CACrB,CAACO,IAAI,CAAEC,MAAM,CAAEC,MAAM,CAAC,CAAG3B,cAAc,CAACwB,cAAc,CAAErB,OAAO,CAAGE,OAAO,CAAG,EAAE,CAAG,CAAC,EAAE,CAAC,CACvF,CAAC,IAAM,CACL,CAACoB,IAAI,CAAEC,MAAM,CAAEC,MAAM,CAAC,CAAGrC,aAAa,CAACkC,cAAc,CAAC,CACxD,CAEA,mBACEzB,KAAA,CAAAF,SAAA,EAAA+B,QAAA,eACEjC,IAAA,CAACJ,QAAQ,EAACmB,EAAE,CAAEA,EAAG,CAACe,IAAI,CAAEA,IAAK,CAACR,SAAS,CAAEA,SAAU,CAACY,KAAK,CAAE,CACzDC,WAAW,CAAE,CAAC,CACdC,MAAM,CAAE,CAAC,CACTC,MAAM,CAAEjB,QAAQ,CAAG,SAAS,CAAG,MACjC,CAAE,CAAE,CAAC,cACLpB,IAAA,CAACF,iBAAiB,EAAAmC,QAAA,cAChBjC,IAAA,QACEkC,KAAK,CAAE,CACLI,QAAQ,CAAE,UAAU,CACpBC,SAAS,CAAE,mCAAmCR,MAAM,MAAMC,MAAM,KAAK,CACrEQ,UAAU,CAAE,SAAS,CACrBC,OAAO,CAAE,EAAE,CACXC,YAAY,CAAE,CAAC,CACfC,QAAQ,CAAE,EAAE,CACZC,UAAU,CAAE,GAAG,CACfR,MAAM,CAAE,CACV,CAAE,CACFS,SAAS,CAAC,cAAc,CAAAZ,QAAA,CAEvBZ,IAAI,CAACyB,IAAI,CACP,CAAC,CACW,CAAC,EACpB,CAAC,CACP,CAAC,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}